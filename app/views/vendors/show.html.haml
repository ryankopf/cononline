.rhino{style: "padding:20px;background-image:url('#{url_for(@vendor.image) if @vendor.image.attached?}');background-size:cover;height:390px;position:absolute;left:0;width:100%;background-position:top center;"}
  = @vendor.name

.breadcrumbs{style: 'padding-top:400px;'}
  = link_to (@vendor.category || 'All'), vendors_path

- unless @vendor.category.in?(["artist","dealer"])
  .alert.alert-secondary
    Invalid category set.

- unless @vendor.approved
  .alert.alert-secondary
    This page is still awaiting approval before it is public. Approval helps us prevent fake accounts generated by robots.

%h1
  = @vendor.name

%p
  = @vendor.about

- unless @vendor.website_url.blank?
  %p
    = link_to "Official Website", @vendor.website_url, class: 'btn btn-primary p-2'

.row
  - for product in @vendor.products
    = render product, locals: {product: product}

%br

- if @current_user&.vendors&.find_by(id: params[:id])
  = link_to 'Add product', new_product_path(vendor_id: @vendor.id), class: 'btn btn-primary'

.editlink
  - if @current_user&.vendors&.find_by(id: params[:id])
    = link_to 'Edit', edit_vendor_path(@vendor), class: 'mt-4 d-block'

- if @current_user&.admin?
  - if @vendor.approved
    = link_to 'Disapprove', "/vendor/disapprove/#{@vendor.id}", class: 'btn btn-secondary'
  - else
    = link_to 'Approve', "/vendor/approve/#{@vendor.id}", class: 'btn btn-primary'